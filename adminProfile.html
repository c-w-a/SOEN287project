<!DOCTYPE html>
<html lang = "en">
<head>
    <title> My Admin Profile </title>
    <meta charset = "utf-8"/>
    <link rel="stylesheet" href="css/styles.css">
</head>
    <a href = "index.html">
        Go Back
    </a>
<h1> My Admin Profile</h1>
    <div>
    <img src = "https://cdn1.iconfinder.com/data/icons/heroicons-solid/20/user-circle-1024.png"
          alt = "admin" width = "50" height = "50" />

          <h2><span id = "adminUser"></span></h2>
    <div>
        <h3> Business Details</h3>
        <p><strong>Business Name:</strong><span id="businessName"></span></p>
        <p><strong>Email Address:</strong> <span id="businessEmail"></span></p>
        <p><strong>Phone Number:</strong> <span id="businessPhone"> </span></p>
        <p><strong>Address:</strong> <span id="businessAddress"></span></p>
        <button onclick="editProfile()">Edit Profile</button>
        <button onclick="deleteAccount()">Delete Account</button>
<script>
    <!--code inspired from Lyne---> 

    let name = localStorage.getItem('businessName');
    let email = localStorage.getItem('businessEmail');
    let phone = localStorage.getItem('businessPhone');
    let address = localStorage.getItem('businessAddress');

    document.getElementById('businessName').textContent = name;
    document.getElementById('businessEmail').textContent = email;
    document.getElementById('businessPhone').textContent = phone;
    document.getElementById('businessAddress').textContent = address;

    function editProfile(){
        var businessName = prompt("What is the name of your business?");
        var phoneNumber = prompt("What is your phone number?");
        var emailAddress = prompt("What is your email address?");
        var physicalAddress = prompt("What is your businness address?"); 

        if(businessName && phoneNumber && physicalAddress) {
                name = businessName;
                address = physicalAddress;
                phone = phoneNumber;
                localStorage.setItem('businessName', name);
                localStorage.setItem('businessAddress', address);
                localStorage.setItem('businessPhone', phone);
                location.reload();
        }
        if(emailAddress != email) {
            email = emailAddress;
            localStorage.setItem('businessEmail', email);
            location.reload();        }
    }

    function deleteAccount(){
        if(confirm("Are you sure you want to delete your admin account? This action cannot be undone.")){
            localStorage.clear();
            window.location.href = 'index.html';
        }
    }

</script>
