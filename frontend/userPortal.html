<!DOCTYPE html>
<html lang = "en">
    <head>
        <title>User Portal</title>
        <meta charset = "utf-8"/>
        <link rel="stylesheet" href="styles.css">
    </head>    
       
        <body class = "profilestyle"> 
            
           <h1>User Portal</h1>

            <div class = "profilestyle">
            <h3>Menu Options</h3>
                <p><button onclick="editProfile()"> My Profile </button></p>
            
               <p><button onclick="requestServices()"> Request Service </button></p>
            
                <p><button onclick = "viewServices()"> View Services </button></p>

                <p><button onclick = "viewPayments()"> View Payments</button></p>
      
           <button onclick="logout()"> Log Out </button>
    </div>
        </body>
    <script>
        function editProfile(){
            window.location.href = 'userProfile.html'
        }

        function requestServices(){
            window.location.href = 'userRequest.html'
        }

        function viewServices(){
            window.location.href = 'userServices.html'
        }

        function viewPayments(){
            window.location.href = 'userReceipts.html'
        }


        async function logout(){
            try {
                const response = await fetch('/logout',{
                    method: 'GET',
                });

                if (response.ok){
                    window.location.href = 'index.html';
                    alert('you have successfully logged out!')  
                }else {
                    alert('failed to log out');
                }
            } catch(error) {
                console.error('error logging out:', error);
                    alert('an error occurred while logging out.');
            }
        }
    </script>
</html>
