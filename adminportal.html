
<!DOCTYPE html>
<html lang = "en">
<head>
    <title> My Admin LogIn </title>
    <meta charset = "utf-8"/>
    <link rel="stylesheet" href="css/styles.css">
</head>


<body class="formstyle">
  <a href = "homepage.html">
     Go Back
  </a>

  <div class="container">

      <body>
          <div>
              <h2> Business Log in </h2>
              <form id="loginForm" onsubmit="handleLogin(event)">
                 <label>
                    Email Address
                    <br>
                    <input type = "email" id = "email" name = "email" required/>
                </label>
                <br><br>
                <label>
                    Password
                    <br>
                    <input type = "password" id = "password" name = "password" required/>
                </label>
                <br><br>
                <input type = "submit" value = "Log in"/>
        </form>
            <br>
        
            <span>Don't have an account? </span>
            <a href = "adminSignup.html">
                Sign up
               </a>
            </div>

  </p>
  
  
</div>

<script>
function handleLogin(event)
{
    event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const adminArr = JSON.parse(localStorage.getItem('adminArr')) || [];
            const thisAdmin = adminArr.find(admin => admin.email === email && admin.password === password);
    if (thisAdmin) 
        {
            localStorage.setItem('loggedIn', email);
            window.location.href = 'adminSignIn.html';
        } 
    else 
        {
                alert('Invalid email or password. Please try again.')
        }
}
</script>
</body>
      
