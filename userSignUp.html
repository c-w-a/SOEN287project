<!DOCTYPE html>
<html lang = "en">
<head>
    <title> Create an account </title>
    <meta charset = "utf-8"/>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class = "formstyle">
    <div class = "container">
    <h2> Create an account</h2>

    <form id="signupForm" onsubmit="handleSubmit(event)">
    <label>
        Email Address
        <br>
        <input type = "email" id = "email" name = "email" required/>
    </label>
    <br>
    <label>
        Full Name
        <br>
        <input type = "text"  id = "name" name = "name" required/>
    </label>
    <br>
    <label>
        Address
        <br>
        <input type = "text" id = "address" name = "address" size = "70" required/>
    </label>
    <br>
    <label>
        Password
        <br>
        <input type = "password" id = "password" name = "password" required/>
    </label>
    <br>
    <label>
        Phone Number
        <br>
        <input type = "text" id = "phone" name = "phone" required/>
    </label>
    <br>
    <input type = "submit"
                value = "Create your account"/>

</form>
<br>
<div>
    <span>Already have an account? </span>
    <a href = "userLogIn.html">
     Log in
    </a>
 </div>

</div>
 <script>

    let user = {};

 function handleSubmit(event)
 {
    event.preventDefault(); 
    
    user.email = document.getElementById('email').value;
    user.name = document.getElementById('name').value;
    user.address = document.getElementById('address').value;
    user.password = document.getElementById('password').value;
    user.phone = document.getElementById('phone').value;
    
    let userArr = JSON.parse(localStorage.getItem('userArr'));
            if (userArr === null) 
            {
                userArr = [];
            }
   
    userArr.push(user);

    localStorage.setItem('userArr',JSON.stringify(userArr));

    localStorage.setItem('loggedIn',user.email);
    
    window.location.href = 'index.html';
  }
 </script>

</body>
